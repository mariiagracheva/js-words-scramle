<!DOCTYPE html>
<html>
<head>
    <title>Word Scramble</title>
</head>
<body>
    <h1>A Javascript Word Scramble Game</h1>

    <script>

        var WORDS     = ["booger", "apple", "hackbright", "mango"];

        function scramble(word) {
            var w = word.split("");
            var len = word.length;

            // Loop through each index of the word
            // Swap the letter at that index with a random index
            for (i=0; i < len; i++ ){
                var j = Math.floor(Math.random()*len);
                var tmp = w[i];
                w[i] = w[j];
                w[j] = tmp;
            }

            console.log(w);
            // Join the array elements back into a string
            var scrambledWord = w.join("");

            // If we get the original word out,
            // call the function again.
            if (scrambledWord === word){
               scramble(scrambledWord);
            }

            // Return a scrambled word
            return scrambledWord;
        }

        var SCRAMBLED = [];

        for (i=0; i < WORDS.length; i++) {
            SCRAMBLED.push(scramble(WORDS[i]));
            console.log(SCRAMBLED[i])
        }

        var playing = true;

        while (playing) {

            // Grab a random word from the WORDS array.
            var randomIndex = Math.floor(Math.random()*(WORDS.length));
            var randomWord = WORDS[randomIndex];
            // console.log(randomWord);

            // Grab the corresponding scrambled word from the SCRAMBLED array.
            var scrambledWord = SCRAMBLED[randomIndex];
            

            // Prompt the user to guess the original word when given the scrambled word.
            var userGuess = prompt("Guess this word:" + scrambledWord);
            userGuess = userGuess.trim().toLowerCase();
            console.log(userGuess);

            // If the user guesses wrong, tell them they were wrong and show the right word.
            // If the user guesses the correct word, congratulate them.
            if (randomWord === userGuess) {
                alert("Congratulations! The word is " + randomWord);
            } else {
                alert("Wrong, the word is " + randomWord);
            }

            playing = confirm("Press OK To keep playing or Cancel to quit");

            // What does confirm() return?
            // What does setting the playing variable do?
        }

        alert("goodbye!");
    </script>
    
</body>
</html>
